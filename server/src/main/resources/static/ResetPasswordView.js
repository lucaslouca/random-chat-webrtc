import{d as P,a as l,c as n,e as d,f as a,n as w,u as s,w as y,v as C,p as S,j as r,t as p,k as R,q as x,s as T,A as I,_ as B}from"./index.js";import{S as V}from"./SpinnerComp.js";const m=u=>(x("data-v-7b10b7ce"),u=u(),T(),u),A={id:"login-component-container"},E={id:"center-cell"},M={key:0},D=m(()=>a("h1",null,"Reset Password",-1)),N={id:"success-message"},O={class:"button-container"},j=m(()=>a("span",null,"Reset",-1)),q=[j],z={id:"validation-message"},U=m(()=>a("div",{class:"clearfix"},null,-1)),F=P({__name:"ResetPasswordComp",setup(u){let o=l(null),t=l(!1),v=l(null),i=l(null),f=l(null),c=l(!1),_=l(!1);function k(h){t.value=!0,console.log("[ResetPassword] POSTResetPassword "),v.value="Resetting password...",I.resetPassword(h).then(function(e){console.log("[ResetPassword] response: ",e),e.data.success===!1?(i.value=e.data.message,c.value=!0,setTimeout(function(){c.value=!1},500)):(f.value=e.data.message,_.value=!0),t.value=!1}).catch(function(e){console.log("[ResetPassword] Error: ",e.response),t.value=!1,e.value=!0,setTimeout(function(){e.value=!1},500),i.value=e.response.data.error})}function b(){i.value=null,o.value?k(o.value):(c.value=!0,setTimeout(function(){c.value=!1},500),i.value="An email must be present")}return(h,e)=>(n(),d("div",A,[a("div",E,[a("div",{id:"login",class:w({shake:s(c)===!0})},[s(t)?r("",!0):(n(),d("div",M,[D,s(_)?r("",!0):y((n(),d("input",{key:0,type:"text",name:"email",class:"input-field","onUpdate:modelValue":e[0]||(e[0]=g=>S(o)?o.value=g:o=g),placeholder:"E-mail"},null,512)),[[C,s(o)]]),a("span",N,p(s(f)),1),a("div",O,[s(_)?r("",!0):(n(),d("button",{key:0,type:"button",class:"button primary",onClick:b},q)),a("span",z,p(s(i)),1)]),U])),s(t)?(n(),R(V,{key:1})):r("",!0),s(t)?(n(),d("h1",{key:2,class:w({loading:s(t)===!0})},p(s(v)),3)):r("",!0)],2)])]))}});const G=B(F,[["__scopeId","data-v-7b10b7ce"]]),K=P({__name:"ResetPasswordView",setup(u){return(o,t)=>(n(),R(G))}});export{K as default};
