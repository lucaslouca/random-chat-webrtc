import{d as v,c as r,k as h,B as m,T as O,f as e,h as a,t as P,_ as M,y as T,C as D,a as n,D as G,A as p,b as f,e as b,n as C,u as l,E as R,j as k,i as w,q as j,s as A,g as Y}from"./index.js";import{u as q}from"./user.js";import{S as z}from"./SpinnerComp.js";const F={class:"modal-mask"},H={class:"modal-wrapper"},U={class:"modal-container"},J=v({__name:"LoadingModalComp",props:{message:{}},setup(o){return(u,d)=>(r(),h(O,{name:"modal"},{default:m(()=>[e("div",F,[e("div",H,[e("div",U,[a(z,{color:"red"}),e("h1",null,P(u.message)+".",1)])])])]),_:1}))}});const K=M(J,[["__scopeId","data-v-b7593df3"]]),Q=o=>(j("data-v-f9887939"),o=o(),A(),o),W={id:"members"},X={id:"header"},Z={class:"header-content"},ee={id:"logo-text"},te=Q(()=>e("h1",null,"Home",-1)),se={class:"header-content-menu"},oe={class:"menu-item"},ne={class:"menu-item"},ae=["onClick"],ce={id:"account",class:"account"},ie=["src"],le={key:0,class:"submenu"},re={class:"root"},ue={id:"container"},de=v({__name:"MembersComp",setup(o){const u=T(),d=D();function S(){const t=s=>{const i=Y("#submenu");L(s,i)&&(document.removeEventListener("click",t),c.value=!1)};document.addEventListener("click",t),c.value=!c.value}function L(t,s){if(s==t.target)return!1;if(c&&s!=t.target)return!0}let x=n(void 0),E=n(void 0),g=n(!1),c=n(!1),y=n("Logging Out..."),_=n(null);x.value=new Date().getFullYear(),E.value=window.location.hostname,B();const I=G(()=>_.value?"data:image/jpeg;base64,"+_.value:q);function B(){p.getEndpoints("users").get("getPicture")({}).then(function(t){console.log("[Settings] Get picture response",t),t.data?p.getEndpoints("users").get("getPictureResource")({fileName:t.data}).then(function(s){console.log("[Settings] Get picture resource response",s),_.value=s.data}):_.value=null})}function N(){console.log("[Members] logout"),g.value=!0,p.getEndpoints("users").get("logout")({}).then(function(t){console.log("[Members] Logout response",t);var s=t.data;console.log(s),s.success&&(localStorage.removeItem("user"),u.replace({name:"Login"})),g.value=!1})}return(t,s)=>{const i=f("router-link"),V=f("font-awesome-icon"),$=f("router-view");return r(),b("div",W,[e("div",X,[e("div",Z,[e("div",ee,[a(i,{to:"/members/dashboard"},{default:m(()=>[te]),_:1})]),e("nav",se,[e("div",oe,[a(i,{to:"/members/settings",class:C({selected:l(d).path==="/members/settings"})},{default:m(()=>[a(V,{icon:"gear"}),w(" Settings ")]),_:1},8,["class"])]),e("div",ne,[e("div",{id:"submenu",class:"dropdown",onClick:R(S,["stop"])},[e("span",ce,[e("img",{src:I.value,class:"profile-circle"},null,8,ie)]),l(c)?(r(),b("div",le,[e("ul",re,[e("li",null,[a(i,{to:"/members/settings",class:C({selected:l(d).path==="/members/settings"})},{default:m(()=>[w(" Settings ")]),_:1},8,["class"])]),e("li",null,[e("a",{onClick:N}," Logout ")])])])):k("",!0)],8,ae)])])])]),e("div",ue,[l(g)?(r(),h(K,{key:0,message:l(y)},null,8,["message"])):k("",!0),a($)])])}}});const _e=M(de,[["__scopeId","data-v-f9887939"]]),fe=v({__name:"MembersView",setup(o){return(u,d)=>(r(),h(_e))}});export{fe as default};
